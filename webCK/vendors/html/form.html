<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang đăng nhập, đăng ký</title>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css'>
    <link rel="stylesheet" href="../css/form.css">
    <link rel="stylesheet" href="../css/base.css">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/webCK/fontawesome-free-5.15.3-web/css/all.min.css">

    <link rel="stylesheet" href="/webCK/resource/css/bootstrap.min.css">
    <script src="/webCK/resource/js/jquery-3.6.0.min.js"></script>
    <script src="/webCK/resource/js/bootstrap.min.js"></script>
    <script src="../js/form.js"></script>
    <link rel="shortcut icon" href="/webCK/img/logo.png" />




</head>

<body>

    <header class="header">
        <div class="grid">
            <nav class="header-navbar">
                <div class="header_logo">
                    <a href="/webCK/index.html"> <img src="/webCK/img/logo.png" alt="" class="header_logo_img"></a>
                </div>
                <div class="header_search">
                    <input type="text" name="" id="" class="header_search-input" placeholder="Tìm kiếm sản phẩm, thương hiệu">
                    <button class="header_search-btn">
                        <i class="header_search-btn-icon fas fa-search"></i>
                     </button>
                </div>

                <div class="header_navbar-list">
                    <ul class="header_list">
                        <li class="header_list-item">
                            <a href="#" class="header_navbar_link"> <i class="far fa-bell"></i> Thông báo</a>
                        </li>
                        <li class="header_list-item">
                            <a href="#" class="header_navbar_link"> <i class="fas fa-shopping-cart"></i> Giỏ hàng</a>

                        </li>
                        <li class="header_list-item">
                            <a href="#" class="header_navbar_link"> <i class="far fa-user-circle"></i></a>
                            <a href="../html/form.html" class="header_navbar_link" id="tenDN">Đăng nhập&nbsp;/&nbsp;Đăng ký</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>

    </header>
    <div class="main">
        <section>
            <div class="container" id="container">
                <div class="form-container sign-up-container">
                    <form>
                        <h1>Tạo tài khoản</h1>
                        <div class="social-container">
                            <a href="#" class="social"><i class="fab fa-facebook-square"></i></a>
                            <a href="#" class="social"><i class="fab fa-google-plus-g"></i></a>
                            <a href="#" class="social"><i class="fab fa-instagram-square"></i></a>
                        </div>
                        <span>hoặc đăng ký tài khoản mới</span>
                        <div class="input-group mg">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fa fa-user-circle"></i></span>
                            </div>
                            <input type="text" class="form-control input" placeholder="Name (Vo Dang Khoa)" onblur="kthoten()" id="txtht" />
                            <span id="outht" style="color: red;">(*)</span>
                        </div>
                        <div class="input-group mg">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fa fa-phone"></i></span>
                            </div>
                            <input type="text" class="form-control input" placeholder="Phone (10số bắt đầu với 03|08|09)" onblur="ktsdt()" id="txtsdt" />
                            <span id="outsdt" style="color: red;">(*)</span>
                        </div>

                        <div class="input-group mg">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fa fa-key"></i></span>
                            </div>
                            <input type="password" class="form-control input" onblur="ktpass()" placeholder="Password (ít nhất 6 ký tự gồm chữ, số và ký tự đặt biệt)" id="txtpassword" />
                            <span id="outpw" style="color: red;">(*)</span>
                        </div>
                        <div class="input-group mg">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fa fa-key"></i></span>
                            </div>
                            <input type="password" class="form-control input" onblur="ktpass2()" placeholder="Confirm password" id="txtpw2" />
                            <span id="outpw2" style="color: red;">(*)</span>
                        </div>

                        <button class="mt-3 button" id="btnDK">Đăng ký</button>
                    </form>
                </div>
                <div class="form-container sign-in-container">
                    <form action="../../index.html">
                        <h1>Đăng nhập</h1>
                        <div class="social-container">
                            <a href="#" class="social"><i class="fab fa-facebook-square"></i></a>
                            <a href="#" class="social"><i class="fab fa-google-plus-g"></i></a>
                            <a href="#" class="social"><i class="fab fa-instagram-square"></i></a>
                        </div>
                        <span>hoặc dùng tài khoản có sẵn</span>

                        <div class="input-group mg">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fa fa-phone"></i></span>
                            </div>
                            <input type="text" class="form-control input" placeholder="Phone" id="txtsdt2" />
                        </div>

                        <div class="input-group mg">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fa fa-key"></i></span>
                            </div>
                            <input type="password" class="form-control" placeholder="Password" id="txtpw" />
                        </div>
                        <a href="#">Quên mật khẩu?</a>
                        <button class="button" id="btnDN">Đăng nhập</button>
                    </form>
                </div>
                <div class="overlay-container">
                    <div class="overlay">
                        <div class="overlay-panel overlay-left">
                            <h1>Chào mừng đến với chúng tôi!</h1>
                            <p>Để đồng hành cùng chúng tôi , bạn phải có một tài khoản cá nhân !!!</p>
                            <button class="ghost" id="signIn">Đăng Nhập</button>
                        </div>
                        <div class="overlay-panel overlay-right">
                            <h1>Xin chào!</h1>
                            <p>Đăng nhập để tiếp tục săn đón những món đồ hấp dẫn !!!</p>
                            <button class="ghost" id="signUp">Đăng Ký</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <script>
        const signUpButton = document.getElementById('signUp');
        const signInButton = document.getElementById('signIn');
        const container = document.getElementById('container');

        signUpButton.addEventListener('click', () => {
            container.classList.add("right-panel-active");
        });

        signInButton.addEventListener('click', () => {
            container.classList.remove("right-panel-active");
        });
        $(document).ready(function() {
            var kt = "";
            kt = localStorage.getItem('LoginSuccess');
            if (kt == 'true') {
                var acc = JSON.parse(localStorage.getItem('CurrentAccount'))
                var name = acc.name;
                $("#tenDN").html(name);
                $(".header-item_sign").hover(function() {
                        $(".header_navbar-user-menu").css({
                            "display": "block",
                            "width": "500px"
                        });
                    },
                    function() {
                        $(".header_navbar-user-menu").css("display", "none");
                    })
            } else {
                $("#tenDN").html("Đăng nhập&nbsp;/&nbsp;Đăng ký");
                $(".header-item_sign").hover(function() {
                    $(".header_navbar-user-menu").css("display", "none");
                })
            }
            // var kt = "";
            // kt = localStorage.getItem('LoginSuccess');
            // if (kt == 'true') {
            //     var acc = JSON.parse(localStorage.getItem('CurrentAccount'))
            //     var name = acc.name;
            //     $("#tenDN").html(name);
            // } else {
            //     $("#tenDN").html("Đăng nhập&nbsp;/&nbsp;Đăng ký");
            // }

            $("#btnDK").click(function() {
                if (kthoten() == false || ktsdt() == false || ktpass() == false || ktpass2() == false) {
                    alert("Thông tin chưa hợp lệ , nhập lại thông tin !!!");
                    return false;
                }
                var user = JSON.parse(localStorage.getItem('TaiKhoan'));
                var ten = $("#txtht").val();
                var sdt = $("#txtsdt").val();
                var pass = $("#txtpassword").val();
                var tk3 = {
                    name: ten,
                    phone: sdt,
                    pw: pass

                }
                user.push(tk3);
                localStorage.setItem('TaiKhoan', JSON.stringify(user));
                alert("Đăng ký thành công !");
            })

            $("#btnDN").click(function() {
                var kt = false;
                var user = JSON.parse(localStorage.getItem('TaiKhoan'));
                var sdt = "",
                    pass = "";
                sdt = $("#txtsdt2").val();
                pass = $("#txtpw").val();
                if (sdt == "" || pass == "") {
                    alert("Chưa nhập đủ thông tin đăng nhập");
                    return false;
                }
                for (var i = 0; i < user.length; i++) {
                    if (user[i].phone == sdt && user[i].pw == pass) {
                        kt = true;
                        localStorage.setItem('LoginSuccess', 'true');
                        localStorage.setItem('CurrentAccount', JSON.stringify(user[i]));
                        break;
                    }
                }
                if (kt == false) {
                    alert("Sai thông tin đăng nhập ?")
                    return false;
                } else {
                    alert("Đăng nhập thành công !!")
                }
            })
        })
    </script>
</body>

</html>